@model List<LetWeCook.Services.DTOs.RecipeDTO>

@{
    Layout = "_ProfileLayout";
}

<div class="container mx-auto px-6 py-16">
    <h1 class="mb-6 text-3xl font-bold">My Recipes</h1>

    <div class="mb-4">
        <a href="@Url.Action("Index", "Recipe", new { area = "Editor" })" class="rounded-md bg-green-500 px-4 py-2 text-white hover:bg-green-600">
            Add New Recipe
        </a>
    </div>

    @if (Model != null && Model.Any())  // Check if the recipe list is not null and contains items
    {
        <div class="grid-cols-1 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            @foreach (var recipe in Model)
            {
                <div class="overflow-hidden rounded-md bg-white shadow-lg transition duration-300 hover:shadow-xl">
                    <img src="@recipe.RecipeCoverImage.Url" alt="@recipe.Title" class="h-48 w-full object-cover">
                    <div class="flex flex-col items-center justify-center gap-y-4 p-4">
                        <h2 class="h-12 text-ellipsis text-center text-xl font-semibold">@recipe.Title</h2>
                        <p class="line-clamp-4 leading-[1.5rem] h-[6rem] overflow-hidden text-gray-600">
                            @recipe.Description
                        </p>



                        <a href="@Url.Action("Details", "Recipe", new { area = "Cooking", id = recipe.Id })" class="flex w-3/4 flex-row items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-4 py-2 hover:bg-blue-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-white" viewBox="0 -960 960 960"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" /></svg>
                            <div class="font-semibold text-white">
                                Details
                            </div>
                        </a>
                        <div data-id="@recipe.Id" class="edit-recipe-btn flex w-3/4 flex-row items-center justify-center gap-x-2 rounded-lg bg-yellow-500 px-4 py-2 hover:bg-yellow-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-white" viewBox="0 -960 960 960" ><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z" /></svg>
                            <div class="font-semibold text-white">
                                Edit
                            </div>
                        </div>
                        <div data-id="@recipe.Id" class="delete-recipe-btn flex w-3/4 cursor-pointer flex-row items-center justify-center gap-x-2 rounded-lg bg-red-500 px-4 py-2 hover:bg-red-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-white" viewBox="0 -960 960 960"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z" /></svg>
                            <div class="font-semibold text-white">
                                Delete
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <!-- No recipes message if list is empty -->
        <p class="text-gray-600">You haven't added any recipes yet. Start by adding one!</p>
    }
</div>

                            
@section Scripts {
    <script src="~/js/profile-recipes.js"></script>
}